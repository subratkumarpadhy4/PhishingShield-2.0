<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PhishingShield</title>
    <link rel="stylesheet" href="css/popup.css">
</head>

<body>

    <!-- Header -->
    <div class="header">
        <div class="brand">
            <img src="images/icon48.png" alt="Logo">
            <span>PhishingShield</span>
        </div>
        <div class="auth-status" id="auth-section">
            <a href="login.html" target="_blank" id="btn-login">Login</a>
            <a href="dashboard.html" target="_blank" id="user-profile-link" style="display: none;">
                Hi, <span id="user-name">User</span> üë§
            </a>
        </div>
    </div>

    <!-- Hero Status -->
    <div class="hero-status">
        <div class="shield-icon" id="status-icon">
            <img src="images/image.png" alt="Status Shield" class="hero-logo">
        </div>
        <div class="status-title" id="status-text">System Secure</div>
        <div class="status-subtitle">Real-time protection active</div>
    </div>

    <!-- Navigation -->
    <div class="tabs">
        <div class="tab active" id="tab-dashboard">Dashboard</div>
        <div class="tab" id="tab-dojo">Training Dojo</div>
    </div>

    <!-- VIEW: DASHBOARD -->
    <div id="view-dashboard" class="content-area">

        <!-- Gamification Stats -->
        <div class="stats-row">
            <div class="stat-card">
                <div class="stat-label">Security Level</div>
                <div class="stat-value">Lvl <span id="safety-level">1</span></div>
                <div class="xp-container">
                    <div class="xp-fill" id="xp-bar-fill" style="width: 0%"></div>
                </div>
                <div class="xp-text" id="safety-xp">0 XP</div>
            </div>
            <div class="stat-card">
                <div class="stat-label">Blocked Threats</div>
                <div class="stat-value" id="blocked-count" style="color:#dc3545">0</div>
                <div class="stat-label" style="margin-top: 5px;">All Time</div>
            </div>
        </div>

        <!-- Settings List -->
        <div class="toggle-list">
            <div class="toggle-item">
                <div>
                    <div class="toggle-label">Link Previews</div>
                    <span class="toggle-sub">Show destination tooltips</span>
                </div>
                <label class="switch">
                    <input type="checkbox" id="toggle-preview" checked>
                    <span class="slider"></span>
                </label>
            </div>
            <div class="toggle-item">
                <div>
                    <div class="toggle-label">Login Protection</div>
                    <span class="toggle-sub">Warn on insecure forms</span>
                </div>
                <label class="switch">
                    <input type="checkbox" id="toggle-login" checked>
                    <span class="slider"></span>
                </label>
            </div>
            <div class="toggle-item">
                <div>
                    <div class="toggle-label">Scan Downloads</div>
                    <span class="toggle-sub">Check risky file types</span>
                </div>
                <label class="switch">
                    <input type="checkbox" id="toggle-downloads" checked>
                    <span class="slider"></span>
                </label>
            </div>
            <div class="toggle-item fortress-mode">
                <div>
                    <div class="toggle-label" style="color:#856404">Fortress Mode üõ°Ô∏è</div>
                    <span class="toggle-sub">Max security (Zero Trust)</span>
                </div>
                <label class="switch">
                    <input type="checkbox" id="toggle-fortress">
                    <span class="slider fortress-slider"></span>
                </label>
            </div>
            <div class="toggle-item">
                <div class="toggle-label">History Limit</div>
                <input type="number" id="history-limit" min="10" max="100" value="50" class="history-input">
            </div>
        </div>

        <a href="dashboard.html" target="_blank" id="open-dashboard" class="btn-block btn-primary">
            Open Full Analytics ‚Üó
        </a>

        <button id="btn-logout" class="btn-block btn-danger" style="display: none;">
            Sign Out
        </button>
    </div>

    <!-- VIEW: DOJO -->
    <div id="view-dojo" class="content-area" style="display: none;">
        <div class="dojo-container">
            <h3 style="margin-bottom: 10px;">Spot the Phish!</h3>
            <p id="dojo-scenario" style="color: #6c757d; font-size: 13px; margin-bottom: 10px;">scenario text...</p>

            <div id="dojo-question-area">
                <div class="dojo-url-box" id="dojo-url">http://example.com</div>

                <div class="dojo-actions">
                    <button class="btn-dojo btn-safe" id="btn-safe">Safe ‚úÖ</button>
                    <button class="btn-dojo btn-phish" id="btn-phish">Phish üé£</button>
                </div>
            </div>

            <div id="dojo-feedback" class="feedback-msg" style="display: none;"></div>

            <button id="btn-next" class="btn-block btn-primary" style="margin-top: 15px; display: none;">
                Next Challenge &rarr;
            </button>
        </div>
    </div>

    <script src="js/auth.js"></script>
    <script src="js/dojo.js"></script>
    <script src="js/popup.js"></script>
</body>

</html>